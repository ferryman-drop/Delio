nohup: ignoring input
2026-02-04 22:24:46,278 - Delio.Tools - INFO - ðŸ› ï¸ Phase 3 Agent Tools initialized.
2026-02-04 22:24:46,279 - Delio - INFO - ðŸš€ Starting Delio Assistant (PID: 376908)...
2026-02-04 22:24:48,188 - Delio - INFO - âœ… AID Kernel (FSM) initialized
2026-02-04 22:24:48,188 - Delio - INFO - âœ… Advanced Memory System (V2) initialized
2026-02-04 22:24:48,245 - Delio - INFO - âœ… Bot is running...
2026-02-04 22:30:00,011 - Delio.FSM - INFO - ðŸŒ€ FSM Starting process for user 999999 (event: heartbeat)
2026-02-04 22:30:00,607 - Delio.MemoryFunnel - INFO - âœ… Funnel complete. Short: 0, Long: 0
2026-02-04 22:30:00,610 - Delio.LLMService - INFO - ðŸŽ¤ Calling Actor (gemini-2.0-flash). Image: False
2026-02-04 22:30:01,435 - Delio.LLMService - INFO - ðŸ¤– Raw response from gemini-2.0-flash: SKIP
...
2026-02-04 22:30:03,552 - Delio.Decide - INFO - ðŸ¤ Heartbeat SKIPPED for user 999999
2026-02-04 22:30:03,553 - Delio.StateGuard - ERROR - âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 22:30:03,554 - Delio.FSM - ERROR - ðŸ’¥ Error in state State.DECIDE for user 999999: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
Traceback (most recent call last):
  File "/root/ai_assistant/core/fsm.py", line 78, in process_event
    await guard.enter(user_id, next_state)
  File "/root/ai_assistant/core/state_guard.py", line 108, in enter
    raise RuntimeError(msg)
RuntimeError: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 22:30:03,558 - Delio.StateGuard - WARNING - âš ï¸ Emergency transition to ERROR for 999999 from State.ERROR
2026-02-04 22:30:03,559 - Delio.Error - ERROR - ðŸš¨ Handling ERROR state for user 999999
2026-02-04 22:30:03,559 - Delio.Error - ERROR - Errors: ['âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE']
2026-02-04 22:30:03,691 - Delio.Error - ERROR - Failed to send error message: Telegram server says - Bad Request: chat not found
2026-02-04 22:30:03,692 - Delio.FSM - INFO - âœ… FSM Processed user 999999. Trace: ['2026-02-04T22:30:00.011860 - START', '2026-02-04T22:30:00.012229 - OBSERVE', '2026-02-04T22:30:00.012320 - RETRIEVE', '2026-02-04T22:30:00.608018 - PLAN', '2026-02-04T22:30:03.552333 - DECIDE', '2026-02-04T22:30:03.559375 - ERROR']
2026-02-04 23:00:00,010 - Delio.FSM - INFO - ðŸŒ€ FSM Starting process for user 999999 (event: heartbeat)
2026-02-04 23:00:00,582 - Delio.MemoryFunnel - INFO - âœ… Funnel complete. Short: 0, Long: 0
2026-02-04 23:00:00,585 - Delio.LLMService - INFO - ðŸŽ¤ Calling Actor (gemini-2.0-flash). Image: False
2026-02-04 23:00:01,412 - Delio.LLMService - INFO - ðŸ¤– Raw response from gemini-2.0-flash: SKIP
...
2026-02-04 23:00:03,358 - Delio.Decide - INFO - ðŸ¤ Heartbeat SKIPPED for user 999999
2026-02-04 23:00:03,358 - Delio.StateGuard - ERROR - âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 23:00:03,359 - Delio.FSM - ERROR - ðŸ’¥ Error in state State.DECIDE for user 999999: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
Traceback (most recent call last):
  File "/root/ai_assistant/core/fsm.py", line 78, in process_event
    await guard.enter(user_id, next_state)
  File "/root/ai_assistant/core/state_guard.py", line 108, in enter
    raise RuntimeError(msg)
RuntimeError: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 23:00:03,361 - Delio.StateGuard - WARNING - âš ï¸ Emergency transition to ERROR for 999999 from State.ERROR
2026-02-04 23:00:03,361 - Delio.Error - ERROR - ðŸš¨ Handling ERROR state for user 999999
2026-02-04 23:00:03,361 - Delio.Error - ERROR - Errors: ['âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE']
2026-02-04 23:00:03,489 - Delio.Error - ERROR - Failed to send error message: Telegram server says - Bad Request: chat not found
2026-02-04 23:00:03,489 - Delio.FSM - INFO - âœ… FSM Processed user 999999. Trace: ['2026-02-04T23:00:00.011993 - START', '2026-02-04T23:00:00.012354 - OBSERVE', '2026-02-04T23:00:00.012447 - RETRIEVE', '2026-02-04T23:00:00.583284 - PLAN', '2026-02-04T23:00:03.357915 - DECIDE', '2026-02-04T23:00:03.361560 - ERROR']
2026-02-04 23:24:06,231 - Delio.FSM - INFO - ðŸŒ€ FSM Starting process for user 403314201 (event: message)
2026-02-04 23:24:06,741 - Delio.MemoryFunnel - INFO - âœ… Funnel complete. Short: 0, Long: 5
2026-02-04 23:24:06,743 - Delio.LLMService - INFO - ðŸŽ¤ Calling Actor (gemini-2.0-flash). Image: False
2026-02-04 23:24:08,065 - Delio.LLMService - INFO - ðŸ¤– Raw response from gemini-2.0-flash: ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! ðŸ‘‹ Ð¯ Delio, Ñ‚Ð²Ñ–Ð¹ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ð¸Ð¹ AI-Ð°ÑÐ¸ÑÑ‚ÐµÐ½Ñ‚. Ð“Ð¾Ñ‚Ð¾Ð²Ð¸Ð¹ Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ñ‚Ð¸ Ñ‚Ð¾Ð±Ñ– Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° Ð½Ð¾Ð²Ð¸Ð¹ Ñ€Ñ–Ð²ÐµÐ½ÑŒ Ð¶Ð¸Ñ‚Ñ‚Ñ. ðŸš€

Ð— Ñ‡Ð¾Ð³Ð¾ Ð¿Ð¾Ñ‡Ð½ÐµÐ¼Ð¾? Ð¯ÐºÐ° ÑÑ„ÐµÑ€Ð° Ñ‚Ð²Ð¾Ð³Ð¾ Ð¶Ð¸Ñ‚Ñ‚Ñ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÑ” Ð½Ð°Ð¹Ð±Ñ–Ð»ÑŒÑˆÐ¾Ñ— ÑƒÐ²Ð°Ð³Ð¸ Ð·Ð°Ñ€Ð°Ð·? ðŸ¤”
...
2026-02-04 23:24:23,139 - Delio.LLMService - WARNING - âš ï¸ Critic timeout. Falling back to Actor response.
2026-02-04 23:24:23,151 - Delio.Respond - INFO - ðŸ“¤ Preparing to send response to 403314201 (Length: 196)
2026-02-04 23:24:23,233 - Delio.Respond - INFO - âœ… Response sent to user 403314201 (Attempt 1)
2026-02-04 23:24:24,434 - Delio.Reflect - ERROR - âŒ Reflection failed: 'list' object has no attribute 'get'
/root/ai_assistant/legacy/memory_integration.py:38: RuntimeWarning: coroutine 'MemoryController.process_interaction' was never awaited
  memory_manager.global_memory.process_interaction(
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
2026-02-04 23:24:25,495 - Delio.FSM - INFO - âœ… FSM Processed user 403314201. Trace: ['2026-02-04T23:24:06.232367 - START', '2026-02-04T23:24:06.232768 - OBSERVE', '2026-02-04T23:24:06.232865 - RETRIEVE', '2026-02-04T23:24:06.741499 - PLAN', '2026-02-04T23:24:23.150977 - DECIDE', '2026-02-04T23:24:23.151164 - RESPOND', '2026-02-04T23:24:23.233424 - REFLECT', '2026-02-04T23:24:24.435701 - MEMORY_WRITE']
2026-02-04 23:30:00,007 - Delio.FSM - INFO - ðŸŒ€ FSM Starting process for user 999999 (event: heartbeat)
2026-02-04 23:30:00,499 - Delio.MemoryFunnel - INFO - âœ… Funnel complete. Short: 0, Long: 0
2026-02-04 23:30:00,501 - Delio.LLMService - INFO - ðŸŽ¤ Calling Actor (gemini-2.0-flash). Image: False
2026-02-04 23:30:01,310 - Delio.LLMService - INFO - ðŸ¤– Raw response from gemini-2.0-flash: SKIP
...
2026-02-04 23:30:02,777 - Delio.Decide - INFO - ðŸ¤ Heartbeat SKIPPED for user 999999
2026-02-04 23:30:02,778 - Delio.StateGuard - ERROR - âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 23:30:02,778 - Delio.FSM - ERROR - ðŸ’¥ Error in state State.DECIDE for user 999999: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
Traceback (most recent call last):
  File "/root/ai_assistant/core/fsm.py", line 78, in process_event
    await guard.enter(user_id, next_state)
  File "/root/ai_assistant/core/state_guard.py", line 108, in enter
    raise RuntimeError(msg)
RuntimeError: âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE
2026-02-04 23:30:02,781 - Delio.StateGuard - WARNING - âš ï¸ Emergency transition to ERROR for 999999 from State.ERROR
2026-02-04 23:30:02,781 - Delio.Error - ERROR - ðŸš¨ Handling ERROR state for user 999999
2026-02-04 23:30:02,781 - Delio.Error - ERROR - Errors: ['âŒ FORBIDDEN TRANSITION for 999999: DECIDE -> IDLE']
2026-02-04 23:30:02,874 - Delio.Error - ERROR - Failed to send error message: Telegram server says - Bad Request: chat not found
2026-02-04 23:30:02,875 - Delio.FSM - INFO - âœ… FSM Processed user 999999. Trace: ['2026-02-04T23:30:00.007845 - START', '2026-02-04T23:30:00.008476 - OBSERVE', '2026-02-04T23:30:00.008602 - RETRIEVE', '2026-02-04T23:30:00.499477 - PLAN', '2026-02-04T23:30:02.777842 - DECIDE', '2026-02-04T23:30:02.781522 - ERROR']
