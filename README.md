# ü§ñ Telegram AI Assistant

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π Telegram –±–æ—Ç –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é AI –º–æ–¥–µ–ª–µ–π DeepSeek V3 —Ç–∞ Gemini 1.5 Flash –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è–º —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é.

## üöÄ –®–í–ò–î–ö–ò–ô –°–¢–ê–†–¢

**–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω!**

üëâ [–ß–∏—Ç–∞–π—Ç–µ QUICKSTART.md](QUICKSTART.md) –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫—É.

–ö–æ—Ä–æ—Ç–∫–æ:
```bash
cp .env.example .env              # –°–∫–æ–ø—ñ—é–π—Ç–µ —à–∞–±–ª–æ–Ω
nano .env                          # –í—Å—Ç–∞–≤—Ç–µ –≤–∞—à—ñ –∫–ª—é—á–∏
source venv/bin/activate
pip install -r requirements.txt
python main.py                     # –ó–∞–ø—É—Å–∫!
```

## üìã –ó–º—ñ—Å—Ç

- [–Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#—ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- [–°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π](#—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π)
- [üöÄ –®–í–ò–î–ö–ò–ô –°–¢–ê–†–¢](#-—à–≤–∏–¥–∫–∏–π-—Å—Ç–∞—Ä—Ç)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è](#–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- [–ó–∞–ø—É—Å–∫](#–∑–∞–ø—É—Å–∫)
- [–õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏](#–ª–æ–≥—ñ–∫–∞-—Ä–æ–±–æ—Ç–∏)
- [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- [–§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#—Ñ–∞–π–ª–æ–≤–∞-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

## üèóÔ∏è –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **–•–æ—Å—Ç–∏–Ω–≥:** VPS –Ω–∞ Hetzner (Ubuntu 24.04/22.04)
- **–î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –ø—Ä–æ–µ–∫—Ç—É:** `/root/ai_assistant/`
- **Python:** 3.9+
- **–í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è:** `venv`
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å–∞–º–∏:** `nohup` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π

```
aiogram (v3.x)      - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è Telegram Bot API
openai              - –ó–∞–ø–∏—Ç–∏ –¥–æ DeepSeek V3 (—Å—É–º—ñ—Å–Ω–∏–π API)
google-genai        - Google Gemini 1.5 Flash (—Ä–µ–∑–µ—Ä–≤–Ω–∞ –º–æ–¥–µ–ª—å)
python-dotenv       - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
cd /root/ai_assistant
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ—á–µ–Ω–Ω—è
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pip install --upgrade pip
pip install aiogram openai google-genai python-dotenv
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ API

1. **Telegram Bot Token:**
   - –ù–∞–ø–∏—à—ñ—Ç—å [@BotFather](https://t.me/botfather) —É Telegram
   - –ö–æ–º–∞–Ω–¥–∞: `/newbot`
   - –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω

2. **DeepSeek API Key:**
   - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è: https://platform.deepseek.com/
   - API Keys ‚Üí Create new key
   - –ö–æ–ø—ñ—é–π—Ç–µ –∫–ª—é—á

3. **Google Gemini API Key:**
   - Google AI Studio: https://aistudio.google.com/app/apikey
   - Create API Key
   - –ö–æ–ø—ñ—é–π—Ç–µ –∫–ª—é—á

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö (–¥–≤–∞ —Å–ø–æ—Å–æ–±–∏)

**–°–ø–æ—Å—ñ–± 1: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)**

```bash
# –ö–æ–ø—ñ—é—î–º–æ —à–∞–±–ª–æ–Ω
cp .env.example .env

# –†–µ–¥–∞–≥—É—î–º–æ .env
nano .env
```

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å:
```
TG_TOKEN=your_telegram_token_here
GEMINI_KEY=your_gemini_key_here
DEEPSEEK_KEY=your_deepseek_key_here
```

**–°–ø–æ—Å—ñ–± 2: –ë–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ main.py (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)**

–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `main.py` –Ω–∞ –ª—ñ–Ω—ñ—è—Ö 20-22:
```python
TG_TOKEN = "YOUR_TELEGRAM_TOKEN_HERE"
GEMINI_KEY = "YOUR_GEMINI_KEY_HERE"
DEEPSEEK_KEY = "YOUR_DEEPSEEK_KEY_HERE"
```

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–†–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `config.yaml`:
```yaml
context:
  max_history: 10  # –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ
  
database:
  type: "sqlite"
  path: "./data/chat_history.db"

logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ó–∞–ø—É—Å–∫ —É —Ñ–æ–Ω—ñ (production)
```bash
source venv/bin/activate
nohup python main.py &
```

### –ó–∞–ø—É—Å–∫ —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ (development)
```bash
source venv/bin/activate
python main.py
```

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
```bash
tail -f nohup.out
```

### –ó—É–ø–∏–Ω–µ–Ω–Ω—è –±–æ—Ç–∞
```bash
pkill -f "python main.py"
```

## üß† –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

### –û–±—Ä–æ–±–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
         ‚Üì
[1. DeepSeek V3] - —Å–ø—Ä–æ–±–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å (–æ—Å–Ω–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å)
         ‚Üì (—è–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –∞–±–æ –ª—ñ–º—ñ—Ç)
[2. Gemini 1.5 Flash] - —Ä–µ–∑–µ—Ä–≤–Ω–∞ –º–æ–¥–µ–ª—å (fallback)
         ‚Üì (—è–∫—â–æ –æ–±–∏–¥–≤—ñ –ø–æ–º–∏–ª–∫–∏)
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
         ‚Üì
–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ SQLite –ë–î
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞ –ø–∞–º'—è—Ç—å

- –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –¥–æ **10 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å** –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ–π –ø–∞–º'—è—Ç—ñ (–æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞) —Ç–∞ –≤ SQLite (–ø–æ—Å—Ç—ñ–π–Ω–∞)
- –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –æ–∫—Ä–µ–º–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ú–æ–∂–Ω–∞ –æ—á–∏—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥–æ—é `/clear`

### –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥

| –ö–æ–º–∞–Ω–¥–∞ | –§—É–Ω–∫—Ü—ñ—è |
|---------|---------|
| `/start` | –ó–∞–ø—É—Å–∫ —Ç–∞ –ø—Ä–∏–≤—ñ—Ç |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ |
| `/history` | –ü–µ—Ä–µ–≥–ª—è–¥–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—ñ—ó |
| `/stats` | –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

- **–¢–∏–ø:** SQLite3 (–≤–±—É–¥–æ–≤–∞–Ω–∞ –ë–î)
- **–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** `./data/chat_history.db`
- **–¢–∞–±–ª–∏—Ü—ñ:**
  - `messages` - –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏
  - `users` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### –õ–æ–≥—É–≤–∞–Ω–Ω—è

- **–§–∞–π–ª –ª–æ–≥—ñ–≤:** `bot.log`
- **–§–æ—Ä–º–∞—Ç:** timestamp - name - level - message
- **–†—ñ–≤–Ω—ñ:** DEBUG, INFO, WARNING, ERROR, CRITICAL
- **–í–∏–≤–æ–¥–∏:** —Ñ–∞–π–ª + –∫–æ–Ω—Å–æ–ª—å

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞ –ø–∞–º'—è—Ç—å —Ç–∞ –∫–µ—à

- **–í –ø–∞–º'—è—Ç—ñ (RAM):** defaultdict –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
- **Redis –∫–µ—à:** 24 –≥–æ–¥–∏–Ω–∏ TTL –∑–∞ —É–º–æ–≤—á–∞–Ω–Ω—è–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–æ—Ç–∞—Ü—ñ—è
- **SQLite:** –ø–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ë–µ–∑–ø—Ä–æ–±–ª–µ–º–Ω–∏–π fallback –Ω–∞ in-memory cache, —è–∫—â–æ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π

### API Endpoints

| –°–µ—Ä–≤—ñ—Å | –ú–æ–¥–µ–ª—å | –ë–∞–∑–æ–≤–∏–π URL |
|--------|--------|-------------|
| DeepSeek | deepseek-chat | https://api.deepseek.com |
| Google | gemini-1.5-flash | https://generativelanguage.googleapis.com |

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—å–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤
```bash
source venv/bin/activate
pip install pytest pytest-asyncio
python -m pytest test_bot.py -v
```

### –ó–∞–ø—É—Å–∫ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤ (staging)
```bash
source venv/bin/activate
pip install redis
python -m pytest test_integration.py -v --tb=short
```

–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å:
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ DeepSeek —Ç–∞ Gemini API
- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Ç–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó Redis –∫–µ—à–∞
- –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω—É —Ä–æ–±–æ—Ç—É API + –∫–µ—à–∞

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ä–µ–∞–ª—å–Ω—ñ API –∫–ª—é—á—ñ —É `.env`

### –†—É—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:**
   ```bash
   python main.py
   ```

2. **–í—ñ–¥–ø—Ä–∞–≤—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç—É —É Telegram**

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏:**
   ```bash
   tail -f bot.log
   ```

### –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|------|-----------|
| `/start` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ | –ü—Ä–∏–≤—ñ—Ç –∑ –¥–∏–≤—ñ–¥–µ–Ω–¥–∞–º–∏ |
| `/help` | –î–æ–ø–æ–º–æ–≥–∞ | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —Ç–∞ –ø–æ—Ä–∞–¥–∏ |
| `/history` | –ü–µ—Ä–µ–≥–ª—è–¥–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É | –û—Å—Ç–∞–Ω–Ω—ñ 5 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç | –ù–æ–≤–∞ —Å–µ—Å—ñ—è |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å |

## CI/CD

### GitHub Actions

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É push/PR –¥–æ `main` –∞–±–æ `master`:

```yaml
# –ó–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ push
- –ú–æ–¥—É–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏ (test_bot.py)
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ (test_integration.py, —è–∫—â–æ —î –∫–ª—é—á—ñ)
- Redis —Å–µ—Ä–≤—ñ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—Ä—Ç—É—î
```

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `.github/workflows/ci.yml`

## üìÅ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
/root/ai_assistant/
‚îú‚îÄ‚îÄ main.py                 # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ –±–æ—Ç–∞ –∑ –∫–æ–º–∞–Ω–¥–∞–º–∏
‚îú‚îÄ‚îÄ test_bot.py            # –Æ–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (—Ü–µ–π —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –¥–ª—è .env
‚îú‚îÄ‚îÄ config.yaml           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ venv/                 # –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ data/                 # –ü–∞–ø–∫–∞ –∑ –ë–î —Ç–∞ –ª–æ–≥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ chat_history.db   # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ bot.log              # –õ–æ–≥–∏ —Ä–æ–±–æ—Ç–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ nohup.out            # –°–∏—Å—Ç–µ–º–Ω—ñ –ª–æ–≥–∏ (–ø—Ä–∏ –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ nohup)
```

## üìä –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (requirements.txt)

```
aiogram==3.4.1
openai==1.3.0
google-genai==0.3.0
python-dotenv==1.0.0
pytest==7.4.0
pytest-asyncio==0.21.1
pyyaml==6.0
```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—É

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
```bash
ps aux | grep "python main.py"
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º'—è—Ç—ñ
```bash
top -p $(pgrep -f "python main.py")
```

### –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å—É
```bash
pkill -f "python main.py"
nohup python main.py &
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤—ñ –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è

- **–ë–µ–∑–ø–µ–∫–∞:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ (–¥–æ–¥–∞–Ω–æ –≤ `.gitignore`)
- **–õ—ñ–º—ñ—Ç–∏:** DeepSeek —Ç–∞ Gemini –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤ –∑–∞ –¥–µ–Ω—å
- **–í–∞—Ä—Ç—ñ—Å—Ç—å:** –ö–æ–Ω—Ç—Ä–æ–ª—é–π—Ç–µ –≤–∂–∏–≤–∞–Ω–Ω—è API –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–∏—Ö –≤–∏—Ç—Ä–∞—Ç
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ñ–π –ø–∞–º'—è—Ç—ñ –≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è (–≤ –ë–î –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è)
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É
- **–õ–æ–≥–∏:** –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ `bot.log` –ø—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f nohup.out

# –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –±–æ—Ç–∞
pkill -f "python main.py"
nohup python main.py &
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid API key"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –∫–ª—é—á—ñ–≤ –≤ `main.py`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–ª—é—á–∏ –∞–∫—Ç–∏–≤–Ω—ñ –≤ –∫–æ–Ω—Å–æ–ª—è—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–≤—ñ–ª—å–Ω–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —à–≤–∏–¥–∫—ñ—Å—Ç—å —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ó–º–µ–Ω—à—ñ—Ç—å MAX_HISTORY –¥–ª—è –º–µ–Ω—à–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

- **DeepSeek:** https://www.deepseek.com/
- **Google Gemini:** https://gemini.google.com/
- **aiogram:** https://docs.aiogram.dev/

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ

---

**–í–µ—Ä—Å—ñ—è:** 2.0.0  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 31.01.2026

## üéØ –û—Å—Ç–∞–Ω–Ω—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (v2.0.0)

### ‚ú® –î–æ–¥–∞–Ω–æ:
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥** - /start, /help, /history, /clear, /stats
- ‚úÖ **SQLite –ë–î** - –ü–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó —á–∞—Ç—ñ–≤
- ‚úÖ **–†–æ–∑—à–∏—Ä–µ–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** - –§–∞–π–ª bot.log –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- ‚úÖ **.env —Ñ–∞–π–ª** - –ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤
- ‚úÖ **config.yaml** - –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ‚úÖ **requirements.txt** - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** - –í—ñ–¥—Å–ª—ñ–¥–∫—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### üîß –ü–æ–∫—Ä–∞—â–µ–Ω–æ:
- üöÄ –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—ñ–≤
- üìä –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- üõ°Ô∏è –ö—Ä–∞—â–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- üíæ –ü–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
