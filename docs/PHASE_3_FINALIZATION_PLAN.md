# üöÄ Phase 3: Finalization Plan (Paths B & C)

–ú–∏ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏ **–®–ª—è—Ö A (Autonomous Agent)**: –±–æ—Ç —Ç–µ–ø–µ—Ä –º–∞—î —Å–∏—Å—Ç–µ–º—É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤, –≤–º—ñ—î —ó—Ö –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è–º–∏/–Ω–æ—Ç–∞—Ç–∫–∞–º–∏.

–¢–µ–ø–µ—Ä –º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ñ–∞–∑–∏ ‚Äî **–®–ª—è—Ö—É B (Evolutionary Mind)** —Ç–∞ **–®–ª—è—Ö—É C (Omnichannel Sense)**. –¶–µ–π –ø–ª–∞–Ω –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–æ–¥–µ—Ä–∞ –¥–ª—è –ø–æ–∫—Ä–æ–∫–æ–≤–æ—ó —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó.

---

## üèóÔ∏è Part 1: –®–ª—è—Ö B ‚Äî "Evolutionary Mind" (–°–∞–º–æ-–Ω–∞–≤—á–∞–Ω–Ω—è)

### Task B.1: –ê–∫—Ç–∏–≤–Ω–∞ –†–µ—Ñ–ª–µ–∫—Å—ñ—è (REFLECT State)
**–ú–µ—Ç–∞**: –ü—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó —Ä–æ–∑–º–æ–≤–∏ –±–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω "–∑–≥–∞–¥–∞—Ç–∏", –ø—Ä–æ —â–æ –≤–æ–Ω–∏ –≥–æ–≤–æ—Ä–∏–ª–∏, —ñ –≤–∏–¥—ñ–ª–∏—Ç–∏ –Ω–æ–≤—ñ —Ñ–∞–∫—Ç–∏ –¥–ª—è –ø–∞–º'—è—Ç—ñ.

1.  **Modify `states/reflect.py`**:
    *   –Ø–∫—â–æ `context.response` –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π, –≤–∏–∫–ª–∏–∫–∞—Ç–∏ LLM (Critic/Evaluator) –∑ –ø—Ä–æ–º–ø—Ç–æ–º: *"–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –¥—ñ–∞–ª–æ–≥. –©–æ –Ω–æ–≤–æ–≥–æ –º–∏ –¥—ñ–∑–Ω–∞–ª–∏—Å—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (—É–ø–æ–¥–æ–±–∞–Ω–Ω—è, —Ñ–∞–∫—Ç–∏)? –í–∏–¥–∞–π —Å–ø–∏—Å–æ–∫ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON."*
    *   –ó–±–µ—Ä–µ–≥—Ç–∏ —Ü—ñ —Ñ–∞–∫—Ç–∏ –≤ `context.metadata['new_knowledge']`.
2.  **Modify `states/memory_write.py`**:
    *   –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ `new_knowledge` —É `structured_memory` (SQLite).

### Task B.2: –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∏–π –ê–Ω–∞–ª—ñ–∑ (Daily Chronos)
**–ú–µ—Ç–∞**: –°–∏—Å—Ç–µ–º–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (`user_id=0`) —Ä–∞–∑ –Ω–∞ –¥–æ–±—É –∞–Ω–∞–ª—ñ–∑—É—î –≤—Å—ñ –ª–æ–≥–∏ —Ç–∞ –±—É–¥—É—î "–ì–∞—Ä–≤–∞—Ä–¥—Å—å–∫—É –∫–∞—Ä—Ç—É —É—Å–ø—ñ—Ö—É" –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

1.  **Update `scheduler.py`**:
    *   –î–æ–¥–∞—Ç–∏ –∑–∞–¥–∞—á—É `run_daily_mind_reflection` –æ 00:00.
    *   –ó–∞–¥–∞—á–∞ –∑–±–∏—Ä–∞—î –≤—Å—ñ `messages` –∑–∞ –¥–µ–Ω—å –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ `user_id`.
    *   LLM –≥–µ–Ω–µ—Ä—É—î "–ü—ñ–¥—Å—É–º–æ–∫ –¥–Ω—è" (Daily Insight) —Ç–∞ –∑–∞–ø–∏—Å—É—î –π–æ–≥–æ –≤ –¥–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª—É –ø–∞–º'—è—Ç—å.

---

## üé® Part 2: –®–ª—è—Ö C ‚Äî "Omnichannel Sense" (–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ñ—Å—Ç—å)

### Task C.1: Web Dashboard (–ü–∞–Ω–µ–ª—å –ö–µ—Ä—É–≤–∞–Ω–Ω—è)
**–ú–µ—Ç–∞**: –í—ñ–∑—É–∞–ª—å–Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≥–æ, —â–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ "–≥–æ–ª–æ–≤—ñ" –±–æ—Ç–∞.

1.  **Create `dashboard.py` (Streamlit)**:
    *   –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è `bot.log` —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.
    *   –¢–∞–±–ª–∏—Ü—è `users` –∑ —ó—Ö–Ω—ñ–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Ç–∞ —Ä—ñ–≤–Ω—è–º–∏ –¥–æ–≤—ñ—Ä–∏.
    *   Graph –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è FSM —Å—Ç–∞–Ω—ñ–≤ (—è–∫–∏–π —é–∑–µ—Ä —É —è–∫–æ–º—É —Å—Ç–∞–Ω—ñ –∑–∞—Ä–∞–∑).
2.  **Integration**:
    *   –î–æ–¥–∞—Ç–∏ –≤ `docker-compose.yml` —Å–µ—Ä–≤—ñ—Å `dashboard` –Ω–∞ –ø–æ—Ä—Ç—ñ 8501.

### Task C.2: Vision & Voice Refinement
**–ú–µ—Ç–∞**: –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞–Ω–∞–ª—ñ–∑—É –∑–æ–±—Ä–∞–∂–µ–Ω—å —á–µ—Ä–µ–∑ `OBSERVE` —Å—Ç–∞–Ω.

1.  **Update `states/observe.py`**:
    *   –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å `photo` —É –≤—Ö—ñ–¥–Ω–æ–º—É `event`.
    *   –Ø–∫—â–æ —î —Ñ–æ—Ç–æ -> –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ `llm_service.call_actor` —è–∫ —á–∞—Å—Ç–∏–Ω—É –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç—É.
    *   –û–Ω–æ–≤–ª–µ–Ω–∏–π Actor (Gemini 1.5 Pro) –º–∞—î –æ–ø–∏—Å–∞—Ç–∏, —â–æ –≤—ñ–Ω –±–∞—á–∏—Ç—å.

---

## ‚úÖ Acceptance Criteria (End of Phase 3)

1.  **Self-Improvement**: –ë–æ—Ç –ø—ñ—Å–ª—è —Ä–æ–∑–º–æ–≤–∏ —Å–∞–º –¥–æ–¥–∞—î —Ñ–∞–∫—Ç–∏ —É –ø–∞–º'—è—Ç—å (–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ `structured_memory`).
2.  **Proactivity**: –©–æ—Ä–∞–Ω–∫—É –±–æ—Ç –ø–∏—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É (–∞–±–æ –≥–æ—Ç–æ–≤–∏–π –Ω–∞–ø–∏—Å–∞—Ç–∏) –∫–æ—Ä–æ—Ç–∫–∏–π —ñ–Ω—Å–∞–π—Ç –∑–∞ –≤—á–æ—Ä–∞.
3.  **Visibility**: –ê–¥–º—ñ–Ω –º–æ–∂–µ –∑–∞–π—Ç–∏ –Ω–∞ –ø–æ—Ä—Ç 8501 —ñ –ø–æ–±–∞—á–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–∞ –ª–æ–≥–∏.
4.  **Vision**: –ë–æ—Ç –∫–æ—Ä–µ–∫—Ç–Ω–æ "–±–∞—á–∏—Ç—å" –Ω–∞–¥—ñ—Å–ª–∞–Ω—ñ —Ñ–æ—Ç–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–Ø –±–∞—á—É —Å–∫—Ä—ñ–Ω—à–æ—Ç –∫–æ–¥—É –∑ –ø–æ–º–∏–ª–∫–æ—é syntax error").

---

## üìã –ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥–ª—è –∫–æ–¥–µ—Ä–∞:

1.  **B.1 (Reflect)** ‚Äî 4 –≥–æ–¥–∏–Ω–∏.
2.  **C.1 (Dashboard)** ‚Äî 6 –≥–æ–¥–∏–Ω.
3.  **C.2 (Vision)** ‚Äî 3 –≥–æ–¥–∏–Ω–∏.
4.  **B.2 (Chronos)** ‚Äî 4 –≥–æ–¥–∏–Ω–∏.

**–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å**: ~17 –≥–æ–¥–∏–Ω.
